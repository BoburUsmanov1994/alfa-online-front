{"version":3,"file":"static/js/428.ca846e67.chunk.js","mappings":"+RA6GA,EAnGsB,SAAC,GAAc,oBAAC,IAC3BA,GAAKC,EAAAA,EAAAA,KAALD,EAEDE,GAAiBC,EAAAA,EAAAA,IAAS,SAAAC,GAAK,OAAIC,EAAAA,EAAAA,KAAID,EAAO,kBAAkB,kBAEhEE,GAAcC,EAAAA,EAAAA,UAAQ,iBAAM,CAC9B,CACIC,GAAI,EACJC,MAAO,mDACPC,KAAM,UAEV,CACIF,GAAI,EACJC,MAAO,sEACPC,KAAM,kBAEX,KAEHC,EAAAA,EAAAA,YAAU,WACNT,EAAeI,KAChB,IAOH,OACI,+BACI,SAAC,IAAD,CACIM,UARM,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,IAAQC,MAAAA,OAAR,MAAgB,KAAhB,SAA0B,+BACxC,SAAC,IAAD,CAAOC,KAAM,OAAQC,KAAM,QAASC,MAAO,oGAAqBC,aAAcJ,GAAQT,EAAAA,EAAAA,KAAIQ,EAAM,QAAU,KACnGM,OAAQ,CAACC,UAAU,QAOlBC,gBAAiB,CACb,CACIb,GAAI,EACJc,IAAK,QACLb,MAAO,mBAEX,CACID,GAAI,EACJc,IAAK,SACLb,MAAO,oBAEX,CACID,GAAI,EACJc,IAAK,oBACLb,MAAO,gBAEX,CACID,GAAI,EACJc,IAAK,qBACLb,MAAO,iBAEX,CACID,GAAI,EACJc,IAAK,WACLb,MAAO,SACPc,OAAQ,gBAAEC,EAAF,EAAEA,IAAF,OAAWnB,EAAAA,EAAAA,KAAImB,EAAK,mBAAT,WAAiCnB,EAAAA,EAAAA,KAAImB,EAAK,qCAA1C,aAAkFnB,EAAAA,EAAAA,KAAImB,EAAK,sCAA3F,cAAqInB,EAAAA,EAAAA,KAAImB,EAAK,yCAA2CnB,EAAAA,EAAAA,KAAImB,EAAK,gCAEzN,CACIhB,GAAI,EACJc,IAAK,+BACLb,MAAO,oBACPc,OAAQ,gBAAEE,EAAF,EAAEA,MAAF,OAAa,SAAC,IAAD,CAAcC,YAAa,OAAQC,kBAAmB,IAAKF,MAAOA,MAE3F,CACIjB,GAAI,EACJc,IAAK,2BACLb,MAAO,gBACPc,OAAQ,gBAAEE,EAAF,EAAEA,MAAF,OAAa,SAAC,IAAD,CAAcC,YAAa,OAAQC,kBAAmB,IAAKF,MAAOA,MAE3F,CACIjB,GAAI,EACJc,IAAK,+BACLb,MAAO,mDACPc,OAAQ,gBAAEE,EAAF,EAAEA,MAAMD,EAAR,EAAQA,IAAR,MAAsC,UAArBnB,EAAAA,EAAAA,KAAImB,EAAI,WAAuB,SAAC,IAAD,CAAcE,YAAa,OAAQC,kBAAmB,IAAKF,MAAOA,IAAW,IAEzI,CACIjB,GAAI,EACJc,IAAK,SACLb,MAAO,WAIfmB,MAAOC,EAAAA,EAAAA,UACPC,IAAKC,EAAAA,EAAAA,UACLtB,MAAOT,EAAE,yBACTgC,gBAAiB,cACjBC,QAAS,cACTC,UAAW,gBACXC,UAAW,gBACXC,cAAY,EACZC,QAAS,eACTC,UAAWP,EAAAA,EAAAA,iBClGrBQ,EAASC,EAAAA,GAAAA,IAAH,wBAUZ,EARiB,SAAC,GAAe,IAAXC,EAAU,oBAC5B,OACI,SAACF,GAAD,kBAAYE,GAAZ,cACI,SAAC,EAAD","sources":["modules/agreement/containers/osgor/ListContainer.jsx","modules/agreement/pages/osgor/ListPage.jsx"],"sourcesContent":["import React, {useEffect, useMemo} from 'react';\r\nimport {useSettingsStore, useStore} from \"../../../../store\";\r\nimport {get} from \"lodash\";\r\nimport GridView from \"../../../../containers/grid-view/grid-view\";\r\nimport {KEYS} from \"../../../../constants/key\";\r\nimport {URLS} from \"../../../../constants/url\";\r\nimport Field from \"../../../../containers/form/field\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport NumberFormat from \"react-number-format\";\r\n\r\nconst ListContainer = ({...rest}) => {\r\n    const {t} = useTranslation()\r\n\r\n    const setBreadcrumbs = useStore(state => get(state, 'setBreadcrumbs', () => {\r\n    }))\r\n    const breadcrumbs = useMemo(() => [\r\n        {\r\n            id: 1,\r\n            title: 'Продукты',\r\n            path: '/osgor',\r\n        },\r\n        {\r\n            id: 2,\r\n            title: 'Все продукты',\r\n            path: '/osgor/list',\r\n        }\r\n    ], [])\r\n\r\n    useEffect(() => {\r\n        setBreadcrumbs(breadcrumbs)\r\n    }, [])\r\n\r\n    const ModalBody = ({data, rowId = null}) => <>\r\n        <Field name={'name'} type={'input'} label={'Название продукта'} defaultValue={rowId ? get(data, 'name') : null}\r\n               params={{required: true}}/>\r\n    </>\r\n\r\n    return (\r\n        <>\r\n            <GridView\r\n                ModalBody={ModalBody}\r\n                tableHeaderData={[\r\n                    {\r\n                        id: 1,\r\n                        key: 'seria',\r\n                        title: 'Agreement seria',\r\n                    },\r\n                    {\r\n                        id: 2,\r\n                        key: 'number',\r\n                        title: 'Agreement number',\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        key: 'policies[0].seria',\r\n                        title: 'Policy seria',\r\n                    },\r\n                    {\r\n                        id: 4,\r\n                        key: 'policies[0].number',\r\n                        title: 'Policy number',\r\n                    },\r\n                    {\r\n                        id: 5,\r\n                        key: 'insurant',\r\n                        title: 'Client',\r\n                        render: ({row}) => get(row, 'insurant.person') ? `${get(row, 'insurant.person.fullName.lastname')} ${get(row, 'insurant.person.fullName.firstname')}  ${get(row, 'insurant.person.fullName.middlename')}` : get(row, 'insurant.organization.name')\r\n                    },\r\n                    {\r\n                        id: 6,\r\n                        key: 'policies[0].insurancePremium',\r\n                        title: 'Insurance premium',\r\n                        render: ({value}) => <NumberFormat displayType={'text'} thousandSeparator={' '} value={value}/>\r\n                    },\r\n                    {\r\n                        id: 7,\r\n                        key: 'policies[0].insuranceSum',\r\n                        title: 'Insurance sum',\r\n                        render: ({value}) => <NumberFormat displayType={'text'} thousandSeparator={' '} value={value}/>\r\n                    },\r\n                    {\r\n                        id: 8,\r\n                        key: 'policies[0].insurancePremium',\r\n                        title: 'Оплачено',\r\n                        render: ({value,row}) => get(row,'status') == 'payed' ? <NumberFormat displayType={'text'} thousandSeparator={' '} value={value}/> : 0\r\n                    },\r\n                    {\r\n                        id: 9,\r\n                        key: 'status',\r\n                        title: 'Status',\r\n                    },\r\n\r\n                ]}\r\n                keyId={KEYS.osgorList}\r\n                url={URLS.osgorList}\r\n                title={t('Osgor agreements list')}\r\n                responseDataKey={'result.docs'}\r\n                viewUrl={'/osgor/view'}\r\n                createUrl={'/osgor/create'}\r\n                updateUrl={'/osgor/update'}\r\n                isHideColumn\r\n                dataKey={'osgor_formId'}\r\n                deleteUrl={URLS.osgorDelete}\r\n\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ListContainer;","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport ListContainer from \"../../containers/osgor/ListContainer\";\r\n\r\nconst Styled = styled.div`\r\n`;\r\nconst ListPage = ({...rest}) => {\r\n    return (\r\n        <Styled {...rest}>\r\n            <ListContainer/>\r\n        </Styled>\r\n    );\r\n};\r\n\r\nexport default ListPage;"],"names":["t","useTranslation","setBreadcrumbs","useStore","state","get","breadcrumbs","useMemo","id","title","path","useEffect","ModalBody","data","rowId","name","type","label","defaultValue","params","required","tableHeaderData","key","render","row","value","displayType","thousandSeparator","keyId","KEYS","url","URLS","responseDataKey","viewUrl","createUrl","updateUrl","isHideColumn","dataKey","deleteUrl","Styled","styled","rest"],"sourceRoot":""}